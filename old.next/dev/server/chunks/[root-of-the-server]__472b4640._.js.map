{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/BMenez/Documents/Site/testsfy/src/lib/db.js"],"sourcesContent":["import { neon } from '@neondatabase/serverless';\r\n\r\nconst sql = neon(process.env.DATABASE_URL);\r\n\r\nexport default sql;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,MAAM,IAAA,gKAAI,EAAC,QAAQ,GAAG,CAAC,YAAY;uCAE1B"}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/BMenez/Documents/Site/testsfy/src/app/api/get-user-defit-amount/route.js"],"sourcesContent":["import sql from '@/lib/db';\r\n\r\nexport async function GET(req) {\r\n  try {\r\n    const url = new URL(req.url);\r\n    const id = url.searchParams.get('id');\r\n\r\n    if (!id) {\r\n      return new Response(\r\n        JSON.stringify({ euros: 0, defits: 0 }),\r\n        {\r\n          status: 400,\r\n          headers: { 'Content-Type': 'application/json' },\r\n        }\r\n      );\r\n    }\r\n\r\n    const result = await sql`\r\n      SELECT \r\n        COALESCE(dollars, 0) AS dollars,\r\n        COALESCE(defits, 0) AS defits,\r\n        COALESCE(liquidity, 0) AS user_liquidity\r\n      FROM users\r\n      WHERE id = ${id};\r\n    `;\r\n\r\n    return new Response(\r\n      JSON.stringify({\r\n        dollars: result[0]?.dollars ?? 0,\r\n        defits: result[0]?.defits ?? 0,\r\n        user_liquidity: result[0]?.user_liquidity ?? 0,\r\n      }),\r\n      {\r\n        status: 200,\r\n        headers: { 'Content-Type': 'application/json' },\r\n      }\r\n    );\r\n  } catch (err) {\r\n    console.error('‚ùå DB error:', err);\r\n    return new Response(\r\n      JSON.stringify({ euros: 0, defits: 0, error: err.message }),\r\n      {\r\n        status: 500,\r\n        headers: { 'Content-Type': 'application/json' },\r\n      }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,IAAI,GAAG;IAC3B,IAAI;QACF,MAAM,MAAM,IAAI,IAAI,IAAI,GAAG;QAC3B,MAAM,KAAK,IAAI,YAAY,CAAC,GAAG,CAAC;QAEhC,IAAI,CAAC,IAAI;YACP,OAAO,IAAI,SACT,KAAK,SAAS,CAAC;gBAAE,OAAO;gBAAG,QAAQ;YAAE,IACrC;gBACE,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;YAChD;QAEJ;QAEA,MAAM,SAAS,MAAM,6HAAG,CAAC;;;;;;iBAMZ,EAAE,GAAG;IAClB,CAAC;QAED,OAAO,IAAI,SACT,KAAK,SAAS,CAAC;YACb,SAAS,MAAM,CAAC,EAAE,EAAE,WAAW;YAC/B,QAAQ,MAAM,CAAC,EAAE,EAAE,UAAU;YAC7B,gBAAgB,MAAM,CAAC,EAAE,EAAE,kBAAkB;QAC/C,IACA;YACE,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;QAChD;IAEJ,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,eAAe;QAC7B,OAAO,IAAI,SACT,KAAK,SAAS,CAAC;YAAE,OAAO;YAAG,QAAQ;YAAG,OAAO,IAAI,OAAO;QAAC,IACzD;YACE,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;QAChD;IAEJ;AACF"}}]
}